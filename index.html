<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Python course</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="css/reveal.css"/>
    <link rel="stylesheet" href="css/theme/simple.css" id="theme"/>
    <link rel="stylesheet" href="extras.css"/>

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css" />

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">');</script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

<!-- BEGIN slide content -->

	<section id="start">
	  <h3>Python Course: DTOcean</h3>
	  <p>Matthew Richardson</p>
	  <p>July 2014</p>
	</section>

	<section id="setup">
	  <section>
	    <h2>Getting Started</h2>
	  </section>

    <section>
      <h2>Installation</h2>
      <p>See installation notes from Course email...</p>
    </section>

    <section>
      <h2>Running Python</h2>

      <h3>Shell</h3>
      <pre>
> python
Python 2.7.6 (default, Mar 22 2014, 22:59:56)
[GCC 4.8.2] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>>
</pre>
      <h3>Script</h3>
<pre>
> python my_script.py
</pre>
    </section>

  </section>

  <section id="python">
    <section>
      <h2>Python Structure</h2>
    </section>

  <section id="hello">
    <h2>greetings.py</h2>
    <pre>

print "Hello!"

# This line is a comment and will be ignored

</pre>
  </section>

  <section id="methods">
    <h2>Methods</h2>
<pre>

# Create a method, that takes one argument
# (Notice the colon and indentation)
def hello(person):
    print "Hello " + person

# Now 'call' this method with an argument
hello("John")

</pre>

</section>

  <section id="main">
    <h2>As a command</h2>
    <pre>

# Create a method, that takes one argument
def hello(person):
    print "Hello " + person

# Call the hello method if we're run as a command
if __name__ == "__main__":
    hello("John")

</pre>
</section>


  <section id="main">
    <h2>As a module</h2>
    <pre>

# Load the greetings module
import greetings

# Call the hello method from the greetings module
greetings.hello("John")


</pre>
</section>

  <section id="packages">
    <h2>Package Structure</h2>
    <br/>
    <ul style="list-style-type: none;">
      <li>greetings/</li>
      <ul style="list-style-type: none;">
        <li>__init__.py</li>
      </ul>
      <ul style="list-style-type: none;">
        <li>English/</li>
        <ul style="list-style-type: none;">
          <li>__init__.py</li>
        </ul>
        <li>French/</li>
        <ul style="list-style-type: none;">
          <li>__init__.py</li>
        </ul>
      </ul>
    </ul>

</section>

  <section id="imports">
    <h2>Imports</h2>
    <pre>

import greetings
greetings.English.hello("John")
...

from greetings import English, French
English.hello("John")
French.bonjour("John")
...

</pre>

</section>
</section>


<section id="data">
<section>
<h2>Data Types</h2>
</section>

<section>
<h3>Strings, Bools, Ints, Floats...</h3>
<pre>

0 == False
<strong>True</strong>
1 == True
<strong>True</strong>

"cat" == True
<strong>False</strong>

1 + 3.1415
<strong>4.1415</strong>

"cat" + "dog"
<strong>catdog</strong>

"cat" + 2
<strong>TypeError: cannot concatenate 'str' and 'int'</strong>

"cat".upper()
<strong>CAT</strong>
</pre>
</section>

<section>
<h3>Lists</h3>
<pre>
animals = ["lion", "tiger", "wolf"]
print len(animals)
<strong>3</strong>

for animal in animals:
    print animal
<strong>lion
tiger
wolf</strong>

print animals[0]
<strong>lion</strong>

>>> print animals[-1]
<strong>wolf</strong>

>>> print animals[1][1:4]
<strong>ige</strong>

>>> animals.append("elephant")
>>> animals.extend(["frog", "giraffe"])

</pre>
</section>

<section>
<h3>Tuples</h3>
<pre>

animals = ("lion", "tiger", "wolf")
single_item = ("cat",)

print len(animals)
<strong>3</strong>

for animal in animals:
    print animal
<strong>lion
tiger
wolf</strong>

print animals[0]
<strong>lion</strong>

animals.append("elephant")
<strong>AttributeError: 'tuple' object has no attribute 'append'</strong>

</pre>
</section>


<section>
<h3>Dictionaries</h3>
<pre>

ages = {"Alice":25, "Bob": 54, "Charles": 34}

for person, age in ages.items():
    print person, age
<strong>Charles 34
Alice 25
Bob 54</strong>

print ages['Bob']
<strong>54</strong>

ages["David"] = 67

</pre>
</section>

<section>
<h3>Nesting</h3>
<pre>

fish = ["cod", "carp", "mackerel"]

animals = [["lion", "tiger"],
           ["wolf"],
           fish]

print animals[1][0]
<strong>wolf</strong>

print animals[2][2][3:]
<strong>kerel</strong>

ages = {"female":{"Alice":25},
            "male":{"Bob":54, "Charles":34}}

print ages["male"]["Bob"]
<strong>54</strong>

</pre>
</section>
</section>

<section id="morepython">
<section>
<h2>Further Python</h2>
</section>

<section id="returns">
<h2>Returns</h2>
<pre>

def hello(person):
    return "Hello " + person

answer = hello("John")
print answer

print hello("Jack")

</pre>
</section>

<section id="errorhandling">
<h2>Errors and Exceptions</h2>
<pre>

a = 1/0
<strong>Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ZeroDivisionError: integer division or modulo by zero</strong>

try:
    a = 1/0
except ZeroDivisionError:
    print "Can't divide by zero"
    return False

<strong>Can't divide by zero</strong>
</pre>

</section>

<section>
<h2>Everything is an Object</h2>
<pre>

def double(num):
    return num * 2

def half(num):
    return num * 2

print double(half(100))

numbers = [10, 50]
methods = [double, half]

for number in numbers:
    for method in methods:
        print method(number)

</pre>
</section>

<section>
<h2>Named and Optional Arguments</h2>
<pre>

def add(first, second=2, third=3):
    print first + second + third

add(1)
<strong>6 (1+2+3)</strong>

add(5,6)
<strong>14 (5+6+3)</strong>

add(third=7, second=8, first=9)
<strong>24 (9+8+7)</strong>

add(1, third=10):
<strong>13 (1+2+10)</strong>

</pre>
</section>
</section>

<section id="sql">
<section>
<h2>Python Database Access</h2>
</section>

<section id="trad">
<h2>DB-API SQL Access</h2>
<pre>

import sqlite3 # or psycopg2, or mysql, ...

conn = sqlite3.connect('test.db')
c = conn.cursor()

for entry in c.execute("SELECT size, value FROM house_value WHERE size = 'small'"):
    print entry[0], entry[1]

</pre>
</section>


<section id="sqlalchemy">
<h2>SQL Alchemy</h2>
<pre>

from sqlalchemy import orm, create_engine, MetaData, Table

db = create_engine('sqlite:///house.db')
metadata = MetaData(db)
session = orm.sessionmaker(bind=db)()

h_val = metadata.tables["house_value"].columns

for entry in session.query(h_val.size,
                           h_val.value).\
                           filter(h_val.size == 'small'):
    print entry.size, entry.value

</pre>


</section>
</section>

<section id="pythonic">
<section>
<h2>Writing 'Good' Python</h2>
</section>

    <section id="zen">
      <h2>Zen of Python</h2>
      <pre>&gt; import this</pre>
      <pre class="fragment">
    Beautiful is better than ugly.
    Explicit is better than implicit.
    Simple is better than complex.
    Complex is better than complicated.
    Readability counts.
    ...</pre>
    </section>

<section>
<h2>Documentation</h2>
<pre>
"""A module which greets you."""

def hello(person):
    """Takes a string, returns a string."""
    return "Hello " + person
</pre>
<pre>
>>> help(greetings)
Help on module greetings:

NAME
    greetings - A module which greets you.

FILE
    /tmp/greetings.py

FUNCTIONS
    hello(person)
        Takes a string, returns a string.
</pre>
</section>

<section>
<h2>Introspection</h2>
<pre>

type("cat")
<strong>&lt;type 'str'&gt;</strong>

isinstance("cat", float)
<strong>False</strong>

dir("cat")
<strong>[... 'capitalize', 'center', 'count', 'decode', 'encode', 'endswith', 'expandtabs', 'find', 'format', 'index', 'isalnum', 'isalpha', 'isdigit', 'islower', 'isspace', ... ]</strong>

hasattr("cat", "islower")
<strong>True</strong>

print "cat".islower.__doc__
<strong>S.islower() -> bool

Return True if all cased characters in S are lowercase and there is
at least one cased character in S, False otherwise.</strong>

</pre>
</section>

<section>
<h2>PEP8</h2>
<a href="http://legacy.python.org/dev/peps/pep-0008/">PEP8 Style Guidelines</a>

<pre>
import greetings
list=["John","Jack"]
for person in list:
   print "Hello " + person

</pre>
<pre>
> pep8 badcode.py
2:5: E225 missing whitespace around operator
2:13: E231 missing whitespace after ','
4:4: E111 indentation is not a multiple of four
5:1: W391 blank line at end of file
</pre>
</section>

<section>
<h2>Pylint Code Analysis</h2>
<a href="http://www.pylint.org">www.pylint.org</a>
<pre>
import greetings
list = ["John", "Jack"]
for person in list:
    print "Hello " + person
</pre>
<pre>
> pylint badcode.py
W:  2, 0: Redefining built-in 'list' (redefined-builtin)
C:  1, 0: Missing module docstring (missing-docstring)
W:  1, 0: Unused import greetings (unused-import)
...
Your code has been rated at 4.00/10 (previous run: -2.00/10, +6.00)

</pre>



</section>
</section>

<section id="questions">
  <h2>Any Questions?</h2>
  <p>m.richardson@ed.ac.uk</p>
</section>


<!-- END Slide content -->

    </div> <!-- class=slides -->
    </div> <!-- class=reveal -->

<script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
    controls: true,
    progress: false,
    history: true,
    center: true,
    theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
    transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

    // Optional libraries used to extend on reveal.js
    dependencies: [
        { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
        { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
    ]
});
    </script>



  </body>
</html>
